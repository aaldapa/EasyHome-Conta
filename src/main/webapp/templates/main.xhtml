<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es" 
	  xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:sec="http://www.springframework.org/security/tags"
      xmlns:c="http://java.sun.com/jstl/core"> 
 
    <h:head>
        <f:facet name="first">
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
            <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>		
 
            <title>#{msg['login.text.title']}</title>
        </f:facet>
        <f:facet name="middle">
            
            <!-- Favicon -->
            
            <link rel="shortcut icon" type="image/x-icon" href="#{resource['img/favicon.ico']}"/>
            
            
          	
          	<!-- Primefaces -->
          	<h:outputScript library="primefaces" name="jquery/jquery.js"  />
			<h:outputScript library="primefaces" name="jquery/jquery-plugins.js"  />
			<h:outputScript name="./plugins/daterangepicker/moment.min.js" />
			
            
			 <!-- Bootstrap 3.3.2 -->
		    <h:outputStylesheet name="./bootstrap/css/bootstrap.css" target="head"/>

		    <!-- Theme style -->
		    <h:outputStylesheet name="./dist/css/AdminLTE.css" target="head"/>

		    <!-- AdminLTE Skins. Choose a skin from the css/skins 
		         folder instead of downloading all of them to reduce the load. -->
		    <h:outputStylesheet name="./dist/css/skins/_all-skins.min.css" target="head"/>
		    
		    
		    <!-- Bootstrap 3.3.2 JS -->
		    <h:outputScript name="./bootstrap/js/bootstrap.min.js" target="head"/>
		    
		    <!-- SlimScroll -->
		    <h:outputScript name="./plugins/slimScroll/jquery.slimscroll.min.js" target="head"/>
		    
		    <!-- FastClick -->
		    <h:outputScript name="./plugins/fastclick/fastclick.min.js" target="head"/>
		    
		    <!-- AdminLTE App -->
		    <h:outputScript name="./dist/js/app.min.js" target="head"/>
		   
		    <!-- AdminLTE for demo purposes -->
<!-- 		    <h:outputScript name="./dist/js/demo.js" target="head"/> -->
			
			
			<ui:insert name="scripts" />
			
        </f:facet>
        
        <f:facet name="last">
        	<!-- Mis estilos y javascripts -->
        	<h:outputScript name="./js/mis-js.js" target="head"/>
            <h:outputStylesheet name="./css/mis-estilos.css" target="head"/>
        	
        	<!-- Font Awesome Icons -->
        	<h:outputStylesheet name="css/font-awesome.css" />
		    <!-- Ionicons -->
		    <h:outputStylesheet name="css/ionicons.css" />
		    <!-- Ionicons -->
		    <h:outputStylesheet name="css/flaticon.css" />

        </f:facet>
 
    </h:head>
    
    <h:body styleClass="skin-blue">
   	<!--Principal es cargado en session y contiene el user que se ha logado en la aplicacion -->
    <c:set var="logonUser" value="#{loginBean.authentication.principal}"/>
    	<div class="wrapper">
    		<!-- Header -->
    		<ui:include src="header.xhtml" />	
    		
    		
    		<!-- Left side column. contains the sidebar -->
    		<aside class="main-sidebar">
    			<!-- sidebar: style can be found in sidebar.less -->
    			<section class="sidebar" style="height: auto;">
		        	<ui:include src="leftMenu.xhtml" />
		        </section>
    		</aside>
    	
    		<!-- Right side column. Contains the navbar and content of the page -->
	      	<div class="content-wrapper">
	        
		        <!-- Content Header (Page header) -->
		        <section class="content-header">
		          <h1>#{headerTitle1}<small>#{headerTitle2}</small></h1>
		        </section>
		        <!-- Main content -->
		        <section class="content">
					<f:view>
						<ui:insert name="content" />
					</f:view>			            
		        </section><!-- /.content -->
	          
	    	</div><!-- /.content-wrapper -->
    	
     		<footer class="main-footer">
		        <div class="pull-right hidden-xs">
	 	          <b><h:outputText value="#{msg['footer.version.text']} "/></b> <h:outputText value="#{msg['footer.version.number']}"/>
		        </div>
				<strong>
					<h:outputText value="#{msg['footer.copyright']}"/>
				</strong>
				<h:outputText value=" #{msg['footer.autor']}"/>
	      </footer> 
    	
    	</div>
        
        
        
      

	      
	     
          
          <script type="text/javascript">
			$(document).ready(function(){
				//Gestion de mensajes de error
			   	estilarMessages();
				$('.fa-times-circle-o').on('click', ocultarMessage);
		   });

			//Funcion para cargar la imagen de cargando en las peticiones ajax
			jsf.ajax.addOnEvent(function(data) {
				console.log(data.status +" "+moment().format('h:mm:ss a'));
		        var ajaxstatus = data.status; // Can be "begin", "complete" and "success"
		        //var ajaxloader = document.getElementById("id_loading");

		        switch (ajaxstatus) {
		            case "begin": // This is called right before ajax request is been sent.
		            	loadingShow();
		                break;

		            case "complete": // This is called right after ajax response is received.
		            	loadingHide();
		                break;

		            case "success": // This is called when ajax response is successfully processed.
		                // NOOP.
		                break;
		        }
		    });
		 </script>
          
    </h:body>
</html>